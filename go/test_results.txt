=== Wilson Manual Testing ===
Date: Tue Oct 14 21:15:42 CEST 2025

Building Wilson...

================================
TEST 1: Agent Status Tool
================================
Testing: agent_status

Loaded 17 tools:
  - agent_status (agent)
  - delegate_task (agent)
  - list_contexts (context)
  - retrieve_context (context)
  - run_command (system)
  - analyze_content (web)
  - create_context (context)
  - extract_content (web)
  - research_topic (web)
  - search_web (web)
  - leave_note (context)
  - store_artifact (context)
  - list_files (filesystem)
  - search_files (filesystem)
  - search_artifacts (context)
  - read_file (filesystem)
  - fetch_page (web)

You: Goodbye!

================================
TEST 2: List Contexts (Initial)
================================
Command: Use list_contexts tool to see existing contexts

NOTE: Interactive tool testing requires manual interaction.
To test tools interactively, run: ./wilson_test
Then try these commands:
  - list contexts
  - show agent status
  - create a context called 'test-manual' for type 'task' with title 'Manual Test'

================================
TEST 3: Database Verification
================================
Checking if database exists and has data...

✓ Database exists at: .wilson/memory.db

Contexts in database:
1|session-2025-10-14|session|active|Session 2025-10-14|2025-10-14 16:28:44.43882+02:00
2|test-context-1760455433|task|active|Integration Test Context|2025-10-14 17:23:53.904177+02:00
3|test-context-1760455511|task|active|Integration Test Context|2025-10-14 17:25:11.771503+02:00
4|test-autostorage|research|active|Auto-Storage Test|2025-10-14 20:34:40.924685+02:00

Artifacts in database:
3

Database schema:
CREATE TABLE contexts (
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		context_key TEXT UNIQUE NOT NULL,
		context_type TEXT NOT NULL,
		status TEXT DEFAULT 'active',
		title TEXT,
		description TEXT,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		created_by TEXT,
		metadata TEXT
	);
CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE artifacts (
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		context_id INTEGER NOT NULL,
		artifact_type TEXT NOT NULL,
		content TEXT NOT NULL,
		source TEXT,
		agent TEXT,
		created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
		metadata TEXT,
		FOREIGN KEY (context_id) REFERENCES contexts(id) ON DELETE CASCADE
	);
CREATE TABLE agent_notes (
		id INTEGER PRIMARY KEY AUTOINCREMENT,
		context_id INTEGER NOT NULL,
		from_agent TEXT NOT NULL,
		to_agent TEXT,
		note TEXT NOT NULL,

================================
TEST 4: Web Search (Phase 1)
================================
Testing search_web tool with query 'golang'...

✓ Search returned 2838 chars (showing first 200):
Found 10 results for "golang":

1. The Go Programming Language
   URL: https://go.dev/
   Go is an open source programming language that makes it simple to build secure, scalable systems.

2. Go (prog...

================================
TEST 5: Audit Log Verification
================================
✓ Audit log exists
Recent entries (last 3):
2025-10-14T19:32:03.519384+02:00 - search_web - null
2025-10-14T19:42:16.594147+02:00 - search_files - null
2025-10-14T19:55:35.620773+02:00 - search_web - null

================================
AUTOMATED TEST SUMMARY
================================
✓ Wilson builds successfully
✓ Database created with schema
✓ Default session context exists

MANUAL TESTS REQUIRED:
Run ./wilson_test and test these tools:

Context & Agent Tools:
  1. agent_status - 'what agents are available?'
  2. create_context - 'create a context for testing'
  3. store_artifact - 'store this as an artifact: test data'
  4. search_artifacts - 'search for artifacts about testing'
  5. list_contexts - 'list all contexts'

Web Tools (NEW - Phases 1-3):
  6. search_web - 'search the web for LLMs'
  7. research_topic - 'research the topic: How do LLMs work' (max_sites: 2, depth: quick)
     NOTE: Requires Ollama running with mixtral:8x7b model
     NOTE: Takes 30-60 seconds for multi-site research

================================
Results saved to: test_results.txt
================================
